{
  "author": "Thierry Wong",
  "bugs": "https://github.com/gnowth/smart/issues",
  "description": "Boilerplate",
  "homepage": "https://github.com/gnowth/smart#readme",
  "license": "AGPL-3.0-only",
  "name": "gnowth",
  "prettier": "@gnowth/prettier-config",
  "private": true,
  "repository": "https://github.com/gnowth/smart.git",
  "version": "0.0.0",
  "workspaces": [
    "./packages/*"
  ],
  "eslintConfig": {
    "extends": [
      "@gnowth/eslint-config"
    ],
    "ignorePatterns": [
      "**/coverage",
      "**/dist"
    ],
    "root": true
  },
  "engines": {
    "node": "18.7.0",
    "npm": "8.15.0"
  },
  "jest": {
    "preset": "@gnowth/jest-config"
  },
  "lint-staged": {
    "*.{css,json,md,scss,yaml,yml}": "prettier --write",
    "*.{cjs,js,jsx,mdx,mjs,ts,tsx}": "eslint --fix"
  },
  "renovate": {
    "extends": [
      "config:base"
    ],
    "ignoreDeps": [
      "npm"
    ],
    "rebaseWhen": "conflicted"
  },
  "?dependencies": {
    "ts-jest?": "required here to force this version at root"
  },
  "?scripts": {},
  "dependencies": {
    "@commitlint/cli": "17.0.3",
    "@commitlint/config-conventional": "17.0.3",
    "@gnowth/eslint-config": "0.0.0",
    "@gnowth/jest-config": "0.0.0",
    "@gnowth/prettier-config": "0.0.0",
    "@gnowth/typescript-config": "0.0.0",
    "concurrently": "7.3.0",
    "github-markdown-css": "5.1.0",
    "husky": "8.0.1",
    "lerna": "5.3.0",
    "lint-staged": "13.0.3",
    "netlify-cms-proxy-server": "1.3.24",
    "npm-check-updates": "16.0.3",
    "serve": "14.0.1",
    "start-server-and-test": "1.14.0",
    "surge": "0.23.1",
    "ts-jest": "27.1.4"
  },
  "devDependencies": {
    "eslint": "8.20.0",
    "prettier": "2.7.1",
    "typescript": "4.7.4"
  },
  "scripts": {
    "cd:code:version": "lerna version --exact --conventional-commits --conventional-graduate --yes",
    "cd:code:version:pre": "lerna version --exact --conventional-commits --conventional-prerelease --yes",
    "cd:database:backup": "echo database to backup",
    "cd:database:fixture": "echo database to add fixtures",
    "cd:database:migrate": "echo migrate database",
    "cd:database:migrate:back": "echo migrate database back",
    "cd:infrastructure:cleanup": "echo clean temp infrastructure",
    "cd:infrastructure:provision": "echo provision infrastructure",
    "cd:library:publish": "lerna publish from-package --yes",
    "cd:library:publish:dry": "echo publish dry run",
    "cd:website:deploy": "surge --project ./packages/boilerplate-nextjs/dist --domain $SITE_DOMAIN",
    "cd:website:deploy:cleanup": "surge teardown $SITE_DOMAIN",
    "ci:build": "lerna run build",
    "ci:build:dev": "lerna run build:dev",
    "ci:build:styleguide": "npm run workspace:styleguide build",
    "ci:build:website": "npm run workspace:nextjs build",
    "ci:check": "npm run ci:check:lint && npm run ci:check:test && ci:check:typecheck",
    "ci:check:lint": "lerna run lint",
    "ci:check:test": "lerna run test",
    "ci:check:typecheck": "lerna run typecheck",
    "ci:e2e:mock": "CYPRESS_BASEURL=http://localhost:3000 start-server-and-test 'serve -l 3000 packages/boilerplate-nextjs/dist' http://localhost:3000 'npm run workspace:cypress test:mock'",
    "ci:e2e:regression:chrome": "npm run workspace:cypress test:regression:chrome",
    "ci:e2e:regression:chrome:mobile": "npm run workspace:cypress test:regression:chrome:mobile",
    "ci:e2e:regression:firefox": "npm run workspace:cypress test:regression:firefox",
    "ci:e2e:regression:firefox:mobile": "npm run workspace:cypress test:regression:firefox:mobile",
    "ci:e2e:smoke": "npm run workspace:cypress test:smoke",
    "ci:e2e:styleguide-desired": "start-server-and-test 'serve -l 6006 packages/boilerplate-storybook/storybook-static' http://localhost:6006 'npm run workspace:styleguide test:e2e'",
    "ci:e2e:styleguide?": "DEBT: issue where storybook is showing preview instead of component. short term fix is to use storybook in dev mode. https://github.com/chromaui/chromatic-cli/issues/312",
    "ci:e2e:styleguide": "start-server-and-test 'npm run workspace:styleguide start:ci' http://localhost:6006 'npm run workspace:styleguide test:e2e'",
    "ci:setup": "npm ci --cache ~/.cache --prefer-offline",
    "docker:compose": "docker-compose -f devops/docker-compose.yml up",
    "git:delete:dev": "git branch -d $(git branch -l 'dev-*')",
    "git:fetch": "git fetch --prune",
    "git:rebase": "git pull --rebase origin main",
    "git:tag:delete": "git tag -d $(git tag -l '*gnowth*')",
    "git:commit:temp": "HUSKY=0 git commit -am 'temp commit'",
    "git:view": "git log --all --graph --decorate --pretty=oneline --abbrev-commit",
    "local:check": "npm run local:check:lint && npm run local:check:typecheck && npm run local:check:test",
    "local:check:lint": "eslint --fix --ext cjs,js,jsx,mdx,mjs,ts,tsx .",
    "local:check:test": "jest",
    "local:check:typecheck": "tsc",
    "local:clean": "npm run local:clean:temp && npm run local:clean:modules",
    "local:clean:modules": "lerna clean --yes && rm -rf node_modules",
    "local:clean:temp": "lerna run clean:temp && rm -rf coverage",
    "local:e2e:mock": "CYPRESS_BASEURL=http://localhost:3000 npm run workspace:cypress test:mock",
    "local:e2e:styleguide?": "DEBT(workaround): snapshot generated locally differs from those generated in ci. A workaround is to let the ci fail first and retrieve the received image and update it in the repo",
    "local:e2e:styleguide": "npm run workspace:styleguide test:e2e",
    "local:env:styleguide:publish": "export $(grep -v '^#' .env.local | xargs) && npm run workspace:styleguide publish",
    "local:environment": "export $(grep -v '^#' .env.local | xargs)",
    "local:format": "prettier --loglevel silent --write **/*.{cjs,css,js,json,jsx,md,mdx,mjs,scss,ts,tsx,yaml,yml}",
    "local:start:dev": "npm run workspace:nextjs start:dev",
    "local:start:dev:cms": "concurrently 'netlify-cms-proxy-server' 'npm run workspace:nextjs start:dev'",
    "local:start:docker": "docker-compose -f ./configs/docker-compose.yml up",
    "local:start:styleguide": "npm run workspace:styleguide start:dev",
    "local:website:analyze": "npm run workspace:nextjs build:analyze",
    "local:website:preview:list": "surge list | grep -oE 'gnowth-boilerplate-preview-\\d*.surge.sh' | sort",
    "local:website:preview:clean": "surge list | grep -oE 'gnowth-boilerplate-preview-\\d*.surge.sh' | grep -Ev '-1-|-2-' | sort | xargs -I project surge teardown project",
    "prepare": "if test \"$CI\" != true; then husky install; fi",
    "setup": "time npm install --frozen-lockfile",
    "setup:cache:verify": "npm cache verify",
    "setup:refresh": "rm -rf package-lock.json && npm run local:clean && time npm install",
    "setup:packages": "ncu --interactive --deep --reject '@boilerplate/*,@gnowth/*'",
    "workspace:cypress": "npm run --workspace=@boilerplate/cypress",
    "workspace:eslint": "npm run --workspace=@gnowth/eslint-config",
    "workspace:language": "npm run --workspace=@gnowth/ty-language",
    "workspace:nestjs": "npm run --workspace=@boilerplate/nestjs",
    "workspace:nextjs": "npm run --workspace=@boilerplate/nextjs",
    "workspace:prettier": "npm run --workspace=@gnowth/prettier-config",
    "workspace:styleguide": "npm run --workspace=@boilerplate/styleguide",
    "workspace:typescript": "npm run --workspace=@gnowth/typescript-config"
  }
}
